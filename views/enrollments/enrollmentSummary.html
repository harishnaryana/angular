
<div class="row" ng-controller="EnrollmentSummaryController as vm">
    <div class="col-lg-12">
        <div class="row">
            <ol class="breadcrumb">
                <li><a ui-sref="home">Home</a></li>
                <li><a ui-sref="home"  ng-click="vm.back()">Enrollments</a></li>
                <li class="active" ng-show="vm.showEnrollmentActiveGrid" >Participants</li>
            </ol>
        </div>
        <!--Breadcrumbs-->
        <div class="row">
           <div class="col-xs-8 text-center" ng-show="vm.showEnrollmentActiveGrid"><h4>Active status of participants</h4></div>
            <div class="col-xs-3 pull-right">
                <a ui-sref="enroll" class="btn btn-default btn-success">Enroll new Participant</a>
               
            </div>
            
             <div class="col-xs-6">
            </div>  
             <!--<div class="col-xs-3" >
                <a ui-sref="home" class="btn btn-link " ng-show="vm.showEnrollmentActiveGrid" ng-click="vm.back()">Back</a>
            </div> -->
        </div>
        <div class="row">&nbsp;</div>
        <div class="row" ng-show="vm.showenrollmentsSummaryGrid">
            <div class="dataTable_wrapper">
                <table class="table-striped table-bordered table-hover" id="enrollmentSummary" datatable="ng">
                    <thead>
                        <tr>
                            <th>Coordinator</th>
                            <th>Patients Enrolled</th>
                            <th>Enrollments since 10/10/2015</th>                                
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="enrollment in vm.enrollmentsSummary | orderBy: ['lastName', 'firstName']" >
                            <td ng-dblclick="vm.showDetail(enrollment.userId)" class="enrollSummaryLink"> <h5><strong>{{enrollment.lastName}}</strong></h5> <h6><strong>{{enrollment.firstName}}</strong></h6> <h6>{{enrollment.phoneNumber | tel }}</h6> </td>
                            <td class="patients-enrolled"><a ng-click="vm.showEnrollmentActive(enrollment.userId)" data-toggle="tooltip" title="Click Here!"> {{enrollment.enrolledPatientsCount}} </a></td>
                            <td class="patients-enrolled"><a data-toggle="tooltip" title="Click Here!" ng-click="vm.showEnrollmentActive(enrollment.userId,'true')">{{enrollment.newEnrollments.newEnrollmentsCount}}</a></td>
                                
                        </tr>
                    </tbody>
                </table>
            </div>
            <!--dataTables_wrapper-->
        </div>
        
           <div class="row">
            
             <div class="col-xs-6 col-md-offset-3">
                         <div ng-show="vm.lazLoader"> <img src="images/light_blue_material_design_loading.gif"/></div>

            </div> 
         <div class="dataTable_wrapper" ng-show="vm.showEnrollmentActiveGrid">
                <table class="table table-striped table-bordered table-hover" id="enrollmentsSummaryTable" datatable="ng">
                    <thead>
                        <tr>
                            <th>Participant Name</th>
                            <th>Pathway Name</th>
                            <th>Start Date</th>
                            <th>End Date</th>                                
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="enrollment in vm.enrollmentsActive | orderBy: ['participant.lastName']" ng-dblclick="vm.showDetail(enrollment.participant.id)">                            
                            <td><h5><a class="pointer"><strong>{{enrollment.participant.lastName}}</strong></h5></a> <h6><strong>{{enrollment.participant.firstName}}</strong></h6> <h6>{{enrollment.phoneNumber | tel }}</h6> </td>
                            <td><h5><strong>{{enrollment.pathway}}</strong></h5></td>
                            <td><h6><strong>{{enrollment.startOn}}</strong></h6></td>
                            <td><h6><strong>{{enrollment.endOn}}</strong></h6></td>
                                
                        </tr>
                    </tbody>
                </table>
        </div>
        
    </div>
</div>
